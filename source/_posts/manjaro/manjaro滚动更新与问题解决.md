---
title: manjaro滚动更新与问题解决
copyright: true
date: 2020-03-31 05:47:45
categories:
    - manjaro
tags:
    - manjaro
---
manjaro基于arch，所以带有滚动更新。频繁的滚动更新会导致某些非稳定的bug，比如gnome版本升级可能导致插件无法使用。长时间不做更新，也会导致更新在删除某些软件时提示依赖错误。

<!-- more -->

### 1. 长时间不更新导致的依赖问题

更新A包时提示B包依赖A更低的版本号，此时选择删除掉B，但是可能提示C依赖B，可能会有很多的逐层的依赖。

正确的操作是，逐层记录依赖关系，找到源头一层层删除，然后更新系统，更新完之后可以尝试重新安装删除的包。
但是一般自动更新提示依赖问题，可能就是因为更新中删除了某些包，在更新结束之后，重新安装这些包可能提示找不到，这也是正常的，有时候可能导致某些软件不可用，比如gnome更新之后，插件不可用。

### 2. pip 的问题

有时，需要更新系统时发现 pip无法使用了，比如代码错误，import错误等等，这通常是因为某些python包版本变化导致，或python版本变化导致。
比如pip的安装包名从 pip 变成了python-pip，python从3.7变成了3.8。
如果你不会修改pip的python依赖，那么就先更新系统。一般在更新完系统之后pip的依赖会自动更新完成。

如果需要自行修改源代码并重新运用到 site-pakcages，可以通过clone源码的方式，需要编辑setup.py。
安装命令 pip install -e 或者 python setup.py develop ，这两个方式用于开发调试会很快捷。去掉 -e或者develop通常就是安装那些代码固定不变，不需要调试的模块。
